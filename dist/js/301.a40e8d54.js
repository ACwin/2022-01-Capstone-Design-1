"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[301],{8301:function(t,a,n){n.r(a),n.d(a,{default:function(){return h}});var e=n(3396),o=n(4870),s=n(7139),d=n(678),i=n(9733),c=n(5410),r=n.n(c);const l=t=>((0,e.dD)("data-v-0d957862"),t=t(),(0,e.Cn)(),t),u={key:0,class:"goods"},p=["src"],v=l((()=>(0,e._)("br",null,null,-1))),g={class:"goodsInfo"},f=["textContent"],m={class:"goodsprice"},b=["textContent"];var w={__name:"GoodsView",props:{id:{type:Number,required:!0}},setup(t){const a=t,{proxy:n}=(0,e.FN)(),c=(0,d.tv)();let l=(0,o.iH)(null);const w=()=>history.back(),C=()=>{n.request.get("/api/product/detail?id="+a.id).then((t=>{l.value=t.data.data}))},_=()=>{i.F.loading({forbidClick:!0}),n.request.post("/api/cart/add",r().stringify({productId:parseInt(a.id),count:1})).then((t=>{i.F.clear(),1e4===t.data.status?i.F.success("Add success!"):10007===t.data.status?c.push("/login"):i.F.fail(t.data.msg)}))};return C(),(t,a)=>{const n=(0,e.up)("van-nav-bar"),d=(0,e.up)("van-loading"),i=(0,e.up)("van-action-bar-icon"),c=(0,e.up)("van-action-bar-button"),r=(0,e.up)("van-action-bar");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(n,{title:"Goods","left-arrow":"",onClickLeft:w}),null!==(0,o.SU)(l)?((0,e.wg)(),(0,e.iD)("div",u,[(0,e._)("img",{src:(0,o.SU)(l).image},null,8,p),v,(0,e._)("div",g,[(0,e._)("div",{textContent:(0,s.zw)((0,o.SU)(l).name),class:"goodsName"},null,8,f),(0,e._)("div",m," Â¥"+(0,s.zw)((0,o.SU)(l).price),1),(0,e._)("div",{textContent:(0,s.zw)((0,o.SU)(l).detail),class:"goodsDetail"},null,8,b)])])):((0,e.wg)(),(0,e.j4)(d,{key:1})),(0,e.Wm)(r,null,{default:(0,e.w5)((()=>[(0,e.Wm)(i,{icon:"chat-o",text:"Service"}),(0,e.Wm)(i,{icon:"cart-o",text:"Cart",to:"/cart"}),(0,e.Wm)(i,{icon:"shop-o",text:"Shop"}),(0,e.Wm)(c,{type:"danger",text:"Add to cart",onClick:_})])),_:1})],64)}}},C=n(89);const _=(0,C.Z)(w,[["__scopeId","data-v-0d957862"]]);var h=_}}]);